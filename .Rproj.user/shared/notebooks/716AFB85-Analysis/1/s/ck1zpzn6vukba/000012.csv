"0","external_validation_data$inf_weight_poly <- I((external_validation_data$inf_weight_kg/10)^3)"
"0","external_validation_data$inf_weight_poly2 <- I((external_validation_data$inf_weight_kg/10)^3*log((external_validation_data$inf_weight_kg/10))) "
"0","external_validation_data$inf_length_poly <- I((external_validation_data$inf_length_cm/100)^2)"
"0","external_validation_data$inf_length_poly2 <- I((external_validation_data$inf_length_cm/100)^2* log((external_validation_data$inf_length_cm/100)))"
"0","external_validation_data$age_in_days_poly <- I((external_validation_data$age_in_days/100)^2)"
"0","external_validation_data$age_in_days_poly2 <- I((external_validation_data$age_in_days/100)^3)"
"0",""
"0","#Model - adjusted for overfitting"
"0","external_validation_data$fat_mass_predicted <- predict(mod, external_validation_data)"
"0",""
"0","ColumbiaDataHispanic <- external_validation_data %>%"
"0","  dplyr::filter(eth == ""HISP"")"
"0",""
"0","ColumbiaDataHispanic$fat_mass_predicted <- predict(mod, ColumbiaDataHispanic)"
"0",""
"0",""
"0","fit <- lm(external_validation_data$fat_mass ~ external_validation_data$fat_mass_predicted)"
"0","summary(fit)"
"1","
Call:
"
"1",""
"1","lm(formula = external_validation_data$fat_mass ~ external_validation_data$fat_mass_predicted)"
"1",""
"1","

"
"1",""
"1","Residuals:
"
"1","    Min "
"1","     1Q "
"1"," Median "
"1","     3Q "
"1","    Max "
"1","
"
"1","-0.9180 "
"1","-0.1471 "
"1","-0.0185 "
"1"," 0.1852 "
"1"," 1.3663 "
"1","
"
"1","
Coefficients:
"
"1","                                           "
"1"," Estimate"
"1"," Std. Error"
"1"," t value"
"1"," Pr(>|t|)"
"1","    "
"1","
(Intercept)                                "
"1","   0.0703"
"1","     0.0633"
"1","    1.11"
"1","     0.27"
"1","    "
"1","
external_validation_data$fat_mass_predicted"
"1","   0.9427"
"1","     0.0260"
"1","   36.21"
"1","   <2e-16"
"1"," ***"
"1","
"
"1","---
Signif. codes:  "
"1",""
"1","0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1"
"1","
"
"1","
Residual standard error:"
"1"," "
"1","0.291"
"1"," "
"1","on"
"1"," "
"1","249"
"1"," "
"1","degrees of freedom"
"1","
"
"1","Multiple R-squared: "
"1"," "
"1","0.84"
"1",",	Adjusted R-squared: "
"1"," "
"1","0.84"
"1"," "
"1","
F-statistic:"
"1"," "
"1","1.31e+03"
"1"," "
"1","on"
"1"," "
"1","1"
"1"," "
"1","and"
"1"," "
"1","249"
"1"," "
"1","DF,  p-value:"
"1"," "
"1","<2e-16"
"1","
"
"1","
"
"0","###Sig different slope than 1?"
"0","fit2 <- lm(external_validation_data$fat_mass ~ external_validation_data$fat_mass_predicted +offset(1*external_validation_data$fat_mass_predicted))"
"0","summary(fit2) "
"1","
Call:
"
"1",""
"1","lm(formula = external_validation_data$fat_mass ~ external_validation_data$fat_mass_predicted + 
    offset(1 * external_validation_data$fat_mass_predicted))"
"1",""
"1","

"
"1",""
"1","Residuals:
"
"1","    Min "
"1","     1Q "
"1"," Median "
"1","     3Q "
"1","    Max "
"1","
"
"1","-0.9180 "
"1","-0.1471 "
"1","-0.0185 "
"1"," 0.1852 "
"1"," 1.3663 "
"1","
"
"1","
Coefficients:
"
"1","                                           "
"1"," Estimate"
"1"," Std. Error"
"1"," t value"
"1"," Pr(>|t|)"
"1","  "
"1","
(Intercept)                                "
"1","   0.0703"
"1","     0.0633"
"1","    1.11"
"1","    0.268"
"1","  "
"1","
external_validation_data$fat_mass_predicted"
"1","  -0.0573"
"1","     0.0260"
"1","   -2.20"
"1","    0.029"
"1"," *"
"1","
"
"1","---
Signif. codes:  "
"1",""
"1","0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1"
"1","
"
"1","
Residual standard error:"
"1"," "
"1","0.291"
"1"," "
"1","on"
"1"," "
"1","249"
"1"," "
"1","degrees of freedom"
"1","
"
"1","Multiple R-squared: "
"1"," "
"1","0.84"
"1",",	Adjusted R-squared: "
"1"," "
"1","0.84"
"1"," "
"1","
F-statistic:"
"1"," "
"1","1.31e+03"
"1"," "
"1","on"
"1"," "
"1","1"
"1"," "
"1","and"
"1"," "
"1","249"
"1"," "
"1","DF,  p-value:"
"1"," "
"1","<2e-16"
"1","
"
"1","
"
"0","#slope 95%"
"0","confint(fit, 'external_validation_data$fat_mass_predicted', level=0.95)"
"1","                                           "
"1","  2.5 %"
"1"," 97.5 %"
"1","
external_validation_data$fat_mass_predicted"
"1"," 0.8914"
"1","  0.994"
"1","
"
"0","#Interval 95%"
"0","coef=(summary(fit)$coefficients[,1])"
"0","st_err=(summary(fit)$coefficients[,2])*2"
"0","upper_conf_int = coef + st_err"
"0","lower_conf_int = coef - st_err"
"0","lower_conf_int"
"1","                                (Intercept) "
"1","external_validation_data$fat_mass_predicted "
"1","
"
"1","                                    -0.0564 "
"1","                                     0.8906 "
"1","
"
"0","upper_conf_int"
"1","                                (Intercept) "
"1","external_validation_data$fat_mass_predicted "
"1","
"
"1","                                     0.1970 "
"1","                                     0.9948 "
"1","
"
"0","psychometric::CI.Rsqlm(fit, level = 0.95)"
