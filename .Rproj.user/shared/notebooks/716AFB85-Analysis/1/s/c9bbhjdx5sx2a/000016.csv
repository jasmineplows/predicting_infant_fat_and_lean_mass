"0","# Recalibration of intercept - this is suddenly not working."
"0","library(metamisc)"
"2","
Attaching package: ‘metamisc’

"
"2","The following object is masked from ‘package:Metrics’:

    se

"
"2","The following object is masked from ‘package:gnm’:

    se

"
"0","external_validation_data_recab <- external_validation_data %>%"
"0","  dplyr::filter(!is.na(fat_mass) & !is.na(inf_weight_kg) & !is.na(inf_length_cm) & !is.na(baby_gender) & !is.na(age_in_days)) %>%"
"0","  dplyr::select(fat_mass, inf_weight_kg, inf_length_cm, baby_gender, age_in_days)"
"0",""
"0","external_validation_data_recab$inf_weight_poly <- I((external_validation_data_recab$inf_weight_kg/10)^3)"
"0","external_validation_data_recab$inf_weight_poly2 <- I((external_validation_data_recab$inf_weight_kg/10)^3*log((external_validation_data_recab$inf_weight_kg/10))) "
"0","external_validation_data_recab$inf_length_poly <- I((external_validation_data_recab$inf_length_cm/100)^2)"
"0","external_validation_data_recab$inf_length_poly2 <- I((external_validation_data_recab$inf_length_cm/100)^2* log((external_validation_data_recab$inf_length_cm/100)))"
"0","external_validation_data_recab$age_in_days_poly <- I((external_validation_data_recab$age_in_days/100)^2)"
"0","external_validation_data_recab$age_in_days_poly2 <- I((external_validation_data_recab$age_in_days/100)^3)"
"0",""
"0","mod2 <- glm(fat_mass ~ inf_weight_poly + inf_weight_poly2 + inf_length_poly + inf_length_poly2 + baby_gender + age_in_days_poly + age_in_days_poly2, data = data_model_fat, x=TRUE, y=TRUE)"
"0",""
"0","r <- metamisc::recalibrate(mod2, external_validation_data_recab)"
"0",""
"0","external_validation_data_recab$fat_mass_predicted_recab <- predict(r, external_validation_data_recab)"
"0",""
"0","fit <- lm(external_validation_data_recab$fat_mass ~ external_validation_data_recab$fat_mass_predicted_recab)"
"0","summary(fit)"
"1","
Call:
"
"1",""
"1","lm(formula = external_validation_data_recab$fat_mass ~ external_validation_data_recab$fat_mass_predicted_recab)"
"1",""
"1","

"
"1",""
"1","Residuals:
"
"1","    Min "
"1","     1Q "
"1"," Median "
"1","     3Q "
"1","    Max "
"1","
"
"1","-0.9180 "
"1","-0.1471 "
"1","-0.0185 "
"1"," 0.1852 "
"1"," 1.3663 "
"1","
"
"1","
Coefficients:
"
"1","                                                       "
"1"," Estimate"
"1"," Std. Error"
"1"," t value"
"1"," Pr(>|t|)"
"1","    "
"1","
(Intercept)                                            "
"1","   0.1298"
"1","     0.0618"
"1","     2.1"
"1","    0.037"
"1"," *  "
"1","
external_validation_data_recab$fat_mass_predicted_recab"
"1","   0.9427"
"1","     0.0260"
"1","    36.2"
"1","   <2e-16"
"1"," ***"
"1","
"
"1","---
Signif. codes:  "
"1",""
"1","0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1"
"1","
"
"1","
Residual standard error:"
"1"," "
"1","0.291"
"1"," "
"1","on"
"1"," "
"1","249"
"1"," "
"1","degrees of freedom"
"1","
"
"1","Multiple R-squared: "
"1"," "
"1","0.84"
"1",",	Adjusted R-squared: "
"1"," "
"1","0.84"
"1"," "
"1","
F-statistic:"
"1"," "
"1","1.31e+03"
"1"," "
"1","on"
"1"," "
"1","1"
"1"," "
"1","and"
"1"," "
"1","249"
"1"," "
"1","DF,  p-value:"
"1"," "
"1","<2e-16"
"1","
"
"1","
"
"0","#slope 95%"
"0","confint(fit, 'external_validation_data_recab$fat_mass_predicted_recab', level=0.95)"
"1","                                                       "
"1","  2.5 %"
"1"," 97.5 %"
"1","
external_validation_data_recab$fat_mass_predicted_recab"
"1"," 0.8914"
"1","  0.994"
"1","
"
"0","#Interval 95%"
"0","coef=(summary(fit)$coefficients[,1])"
"0","st_err=(summary(fit)$coefficients[,2])*2"
"0","upper_conf_int = coef + st_err"
"0","lower_conf_int = coef - st_err"
"0","lower_conf_int"
"1","                                            (Intercept) "
"1","external_validation_data_recab$fat_mass_predicted_recab "
"1","
"
"1","                                               0.006251 "
"1","                                               0.890634 "
"1","
"
"0","upper_conf_int"
"1","                                            (Intercept) "
"1","external_validation_data_recab$fat_mass_predicted_recab "
"1","
"
"1","                                                 0.2533 "
"1","                                                 0.9948 "
"1","
"
"0","psychometric::CI.Rsqlm(fit, level = 0.95) "
